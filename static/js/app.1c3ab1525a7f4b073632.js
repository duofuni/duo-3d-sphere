webpackJsonp([1],{"76fx":function(e,t){},"87Gl":function(e,t,i){"use strict";var a=i("fZjL"),r=i.n(a),s=(i("Yslk"),i("7KhS"),i("MmKn")),n=i("xd/1"),o={name:"sphere",data:function(){return{colors:{violet:"rgba(111,86,181,.3)",deepBlue:"rgba(29,91,175,.5)",shallowBlue:"rgba(0,127,127,.5)"},row:{},cardData:[],sphere:[],objects:[],controls:{},camera:{},scene:{},renderer:{},timer:null}},props:{spherePositionX:{type:Number,default:50},spherePositionY:{type:Number,default:50},spherePositionZ:{type:Number,default:3900},cardWrapClassName:{type:String,default:"element"},sphereSkin:{type:String,default:"violet"}},methods:{resetData:function(){this.init(),this.animate(),this.transform(this.sphere,1e3)},initCardData:function(e){var t=this;this.cardData=e,r()(e[0]).forEach(function(e,i){t.row[e]=i}),this.resetData()},changeColor:function(){var e=this,t=this.$refs.sphere;[].slice.call(t.getElementsByClassName("details")).forEach(function(t){switch(e.sphereSkin){case"violet":t.parentNode.style.background=e.colors.violet;break;case"deepBlue":t.parentNode.style.background=e.colors.deepBlue;break;default:t.parentNode.style.background=e.colors.shallowBlue}})},init:function(){this.sphere=[],this.objects=[],this.controls={},this.camera={},this.scene={},this.renderer={},this.$refs.sphere.innerHTML="",this.camera=new s.PerspectiveCamera(40,window.innerWidth/window.innerHeight,1,1e4),this.camera.position.z=this.spherePositionZ,this.scene=new s.Scene;for(var e=function(e,t,i){var a=document.createElement("div");for(var r in a.className="index",a.textContent=e,i.appendChild(a),t){var s=document.createElement("div");s.className=r,s.textContent=t[r],i.appendChild(s)}},t=0;t<this.cardData.length;t++){var i=document.createElement("div");i.className=this.cardWrapClassName,i.style.backgroundColor="rgba(0,127,127,"+(.5*Math.random()+.25)+")",e(t,this.cardData[t],i);var a=new s.CSS3DObject(i);a.position.x=4e3*Math.random()-2e3,a.position.y=4e3*Math.random()-2e3,a.position.z=4e3*Math.random()-2e3,this.scene.add(a),this.objects.push(a)}for(var r=new s.Vector3,n=new s.Spherical,o=(t=0,this.objects.length);t<o;t++){var h=Math.acos(2*t/o-1),l=Math.sqrt(o*Math.PI)*h,d=new s.Object3D;n.set(800,h,l),d.position.setFromSpherical(n),r.copy(d.position).multiplyScalar(2),d.lookAt(r),this.sphere.push(d)}this.renderer=new s.CSS3DRenderer,this.renderer.setSize(window.innerWidth,window.innerHeight),this.renderer.domElement.style.position="absolute",this.$refs.sphere.appendChild(this.renderer.domElement),this.controls=new s.TrackballControls(this.camera,this.renderer.domElement),this.controls.rotateSpeed=.5,this.controls.minDistance=500,this.controls.maxDistance=6e3,this.controls.addEventListener("change",this.render),this.controls.target.y=this.spherePositionY,this.controls.target.x=-this.spherePositionX,window.addEventListener("resize",this.onWindowResize,!1)},transform:function(e,t){n.removeAll();for(var i=0;i<this.objects.length;i++){var a=this.objects[i],r=e[i];new n.Tween(a.position).to({x:r.position.x,y:r.position.y,z:r.position.z},Math.random()*t+t).easing(n.Easing.Exponential.InOut).start(),new n.Tween(a.rotation).to({x:r.rotation.x,y:r.rotation.y,z:r.rotation.z},Math.random()*t+t).easing(n.Easing.Exponential.InOut).start()}new n.Tween(this).to({},2*t).onUpdate(this.render).start(),this.changeColor()},onWindowResize:function(){this.camera.aspect=window.innerWidth/window.innerHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(window.innerWidth,window.innerHeight),this.render()},animate:function(){this.scene.rotation.y+=.002,requestAnimationFrame(this.animate),n.update(),this.controls.update(),this.render()},render:function(){this.renderer.render(this.scene,this.camera)}}},h={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("div",{ref:"sphere"})])},staticRenderFns:[]};var l=i("VU/8")(o,h,!1,function(e){i("76fx")},null,null).exports,d=(i("uHqs"),{name:"duo3dSphere",data:function(){return{height:0,width:0,cardData:[]}},props:{showBackground:{type:Boolean,default:!0},starAmount:{type:Number,default:2e3},starAlpha:{type:Number,default:20},starTail:{type:Number,default:.5},starSize:{type:Number,default:8},starSpeedReciprocal:{type:Number,default:2e5},starIsClockwiseRotation:{type:Boolean,default:!0},starsDiameterReciprocal:{type:Number,default:2},spherePositionX:{type:Number,default:50},spherePositionY:{type:Number,default:50},spherePositionZ:{type:Number,default:3900},table:{type:Array,default:[]},cardWrapClassName:{type:String,default:"element"},sphereSkin:{type:String,default:"violet"}},watch:{table:function(){this.table.length&&this.$refs["my-sphere"].initCardData(this.table)}},mounted:function(){this.width=document.documentElement.clientWidth+"px",this.height=document.documentElement.clientHeight+"px",this.canvasBg(this.$refs.screenCanvas)},methods:{canvasBg:function(e){var t=this,i=e.getContext("2d"),a=e.width=window.innerWidth,r=e.height=window.innerHeight,s=217,n=[],o=0,h=this.starAmount,l=document.createElement("canvas"),d=l.getContext("2d");l.width=100,l.height=100;var c=l.width/2,p=d.createRadialGradient(c,c,0,c,c,c);function u(e,t){if(arguments.length<2&&(t=e,e=0),e>t){var i=t;t=e,e=i}return Math.floor(Math.random()*(t-e+1))+e}p.addColorStop(.025,"#CCC"),p.addColorStop(.1,"hsl("+s+", 61%, 33%)"),p.addColorStop(.25,"hsl("+s+", 64%, 6%)"),p.addColorStop(1,"transparent"),d.fillStyle=p,d.beginPath(),d.arc(c,c,c,0,2*Math.PI),d.fill();var m=function(){var e,i,s,l=t.starIsClockwiseRotation?-1:1;this.orbitRadius=u((e=a,i=r,s=Math.max(e,i),Math.round(Math.sqrt(s*s+s*s))/t.starsDiameterReciprocal)),this.radius=u(60,this.orbitRadius)/t.starSize,this.orbitX=a/2,this.orbitY=r/2,this.timePassed=u(0,h),this.speed=l*(u(this.orbitRadius)/(1e4*t.starSpeedReciprocal)),this.alpha=u(2,10)/t.starAlpha,n[++o]=this};m.prototype.draw=function(){var e=Math.sin(this.timePassed)*this.orbitRadius+this.orbitX,t=Math.cos(this.timePassed)*this.orbitRadius+this.orbitY,a=u(10);1===a&&this.alpha>0?this.alpha-=.05:2===a&&this.alpha<1&&(this.alpha+=.05),i.globalAlpha=this.alpha,i.drawImage(l,e-this.radius/2,t-this.radius/2,this.radius,this.radius),this.timePassed+=this.speed};for(var f=0;f<h;f++)new m;!function e(){i.globalCompositeOperation="source-over",i.globalAlpha=t.starTail,i.fillStyle="hsla("+s+", 64%, 6%, 2)",i.fillRect(0,0,a,r),i.globalCompositeOperation="lighter";for(var o=1,h=n.length;o<h;o++)n[o].draw();window.requestAnimationFrame(e)}()}},components:{Sphere:l}}),c={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"relative"},[i("Sphere",{ref:"my-sphere",attrs:{cardData:e.cardData,sphereSkin:e.sphereSkin,spherePositionX:e.spherePositionX,spherePositionY:e.spherePositionY,spherePositionZ:e.spherePositionZ,cardWrapClassName:e.cardWrapClassName}}),e._v(" "),e.showBackground?i("div",{staticClass:"bg-container overflow",style:{width:e.width,height:e.height}},[i("canvas",{ref:"screenCanvas"})]):e._e()],1)},staticRenderFns:[]};var p=i("VU/8")(d,c,!1,function(e){i("OVpZ")},null,null);t.a=p.exports},FIgP:function(e,t){},NHnr:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i("7+uW"),r={name:"App",data:function(){return{table:[],starSize:4,starTail:.5,starAlpha:20,starAmount:200,spherePositionX:50,spherePositionY:50,sphereSkin:"shallowBlue",spherePositionZ:2500,starSpeedReciprocal:20,starsDiameterReciprocal:2,starIsClockwiseRotation:!0}},mounted:function(){this.generateData()},methods:{generateData:function(){for(var e=[],t=0;t<100;t++){var i=parseInt(Math.random()*"赵钱孙李周吴郑王".length),a=parseInt(Math.random()*"云鹤九霄龙腾四海".length),r="赵钱孙李周吴郑王"[i]+"云鹤九霄龙腾四海"[a];e.push({title:""+r,details:"10"})}this.table=e}}},s={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"app"}},[i("duo-3d-sphere",{attrs:{table:e.table,starSize:e.starSize,starTail:e.starTail,starAlpha:e.starAlpha,starAmount:e.starAmount,sphereSkin:e.sphereSkin,spherePositionX:e.spherePositionX,spherePositionY:e.spherePositionY,spherePositionZ:e.spherePositionZ,starSpeedReciprocal:e.starSpeedReciprocal,starsDiameterReciprocal:e.starsDiameterReciprocal,starIsClockwiseRotation:e.starIsClockwiseRotation}})],1)},staticRenderFns:[]};var n=i("VU/8")(r,s,!1,function(e){i("FIgP")},null,null).exports,o=i("yfBQ");a.a.use(o.a),a.a.config.productionTip=!1,new a.a({el:"#app",components:{App:n},template:"<App/>"})},OVpZ:function(e,t){},uHqs:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.1c3ab1525a7f4b073632.js.map